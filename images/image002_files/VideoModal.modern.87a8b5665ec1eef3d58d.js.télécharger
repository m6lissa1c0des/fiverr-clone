(("undefined"!=typeof self?self:this).webpackJsonpperseusApp=("undefined"!=typeof self?self:this).webpackJsonpperseusApp||[]).push([[10],{"+mTp":function(e,t,n){e.exports={uid:"ue8ae1937"}},"2cCG":function(e,t,n){e.exports={uid:"u5442ff03"}},N25p:function(e,t,n){e.exports={uid:"uac171c4d"}},QWTK:function(e,t,n){e.exports={}},RiIb:function(e,t,n){e.exports={uid:"uae477512"}},YYVX:function(e,t,n){"use strict";n.r(t);var r=n("cDcd"),o=n.n(r),s=n("rf6O"),a=n("o+af"),c=n("K2gz"),i=n.n(c),l=n("2EwK");const u=e=>{let t=!1;return function(){t||(e(...arguments),t=!0)}},p=(e,t)=>{Object(r.useEffect)(()=>{const n=e.current;if(!n.textTracks.addEventListener)return;let r;const o=()=>[...e.current.textTracks].find(e=>"showing"===e.mode),s=(a=()=>{const e=o();r=e,t(e?e.language:null)},c=()=>o()===r,function(){c(...arguments)||a(...arguments)});var a,c;return requestAnimationFrame(()=>{r=o(),n.textTracks.addEventListener("change",s)}),()=>{n.textTracks.removeEventListener("change",s)}},[e,t])};var d=n("a1fN");const b=(e,t)=>{const[n,o]=Object(r.useState)(!1),s=Object(r.useCallback)(u(()=>{t.onPlay(),o(!0)}),[t]),a=Object(r.useCallback)(u(()=>{n&&t.onWatched()}),[t,n]);p(e,Object(r.useCallback)(e=>{t.onSubtitleChange(e)},[t])),Object(r.useEffect)(()=>{const t=e.current;return t.addEventListener("play",s),()=>t.removeEventListener("play",s)},[e,s]),Object(r.useEffect)(()=>{const t=e.current;return t.addEventListener("ended",a),()=>t.removeEventListener("ended",a)},[e,a]),Object(r.useEffect)(()=>a,[a]),Object(r.useEffect)(()=>{const e=()=>{"hidden"===document.visibilityState&&a()};return document.addEventListener("visibilitychange",e),()=>document.removeEventListener("visibilitychange",e)},[a])};function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=n("GJ3f");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const j=e=>{let{sources:t}=e;return Object(r.useMemo)(()=>t.map(e=>{let{src:t,type:n}=e;return o.a.createElement("source",{key:t,src:t,type:n})}),[t])};j.propTypes={sources:Object(s.arrayOf)(Object(s.shape)({src:s.string.isRequired,type:s.string}))};var P=j;const C=e=>{let{src:t,label:n,srcLang:r,active:s=!1}=e;return o.a.createElement("track",{label:n,srcLang:r,src:t,default:s,kind:"subtitles"})};C.propTypes={src:s.string,label:s.string,srcLang:s.string,active:s.bool};var E=C;function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const N=e=>{let{subtitles:t}=e;const{locale:n}=Object(l.a)();return Object(r.useMemo)(()=>t.map(e=>{const{srcLang:t}=e;return L(L({},e),{},{active:n===t})}).map(e=>{const{src:t,label:n,srcLang:r,active:s}=e;return o.a.createElement(E,{key:t,src:t,label:n,srcLang:r,active:s})}),[t,n])};N.propTypes={subtitles:Object(s.arrayOf)(Object(s.shape)({src:s.string,srcLang:s.string,label:s.string}))};var k=N;n("zNv+");function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const A=e=>{let{className:t,source:n,poster:s,preload:a,autoPlay:c,subtitles:u,sourceInfo:O,onPlay:g,onPause:h}=e;const{locale:v}=Object(l.a)(),[j,C]=Object(r.useState)(v),E=Object(r.useRef)(null),w={autoPlay:c,subtitleLocale:u.length>0?j:null,subtitleExist:u.length>0},L=Object(r.useRef)({}),_=Object(r.useRef)({});return L.current=x(x({},w),{},{pageName:O.mixpanel.pageName,videoName:O.videoName}),_.current=x(x({},w),{},{pageName:O.bigQuery.pageName,videoName:O.videoName}),((e,t)=>{const n=Object(r.useMemo)(()=>{const n=(e,n)=>{const{videoName:r,pageName:o}=t.current,s={"Page name":o,"Video name":r};return d.a.track(e,f(f({},s),n))};return{onPlay:()=>{const{autoPlay:e,subtitleExist:r,subtitleLocale:o}=t.current;n("Video - Play",{"Auto play":e,"Subtitles exist":r,"Subtitles language":o})},onWatched:()=>{const{subtitleExist:r,subtitleLocale:o}=t.current,{duration:s,currentTime:a}=e.current;n("Video - Finished Watching",{"Watch duration":a,"Video completed":s===a,"Subtitles exist":r,"Subtitles language":o})},onSubtitleChange:e=>{const{subtitleLocale:r}=t.current;n("Video - changed subtitles language",{"Subtitles language":e,"Subtitles previous language":r})}}},[e,t]);b(e,n)})(E,L),((e,t)=>{const n=Object(r.useMemo)(()=>{const{locale:n,userId:r}=Object(l.a)(),o=e=>{const{videoName:o,pageName:s}=t.current,a={group:"user_action",platform:Object(l.a)().isTouch?"mobile_web":"web",page:{name:s,element:{name:o}},user:{id:r,locale:n}};return m.a.send(y(y({},a),e))};return{onPlay:()=>{const{autoPlay:e,subtitleLocale:n}=t.current;o({type:"video_play",video:{is_auto_play:e,subtitles_language:n}})},onWatched:()=>{const{subtitleLocale:n}=t.current,{currentTime:r,duration:s}=e.current;o({type:"video_finished_watching",video:{is_completed:r===s,watch_duration:r,subtitles_language:n}})},onSubtitleChange:e=>{const{subtitleLocale:n}=t.current;o({type:"video_changed_subtitles_language",video:{subtitles_language:e,subtitles_previous_language:n}})}}},[e,t]);b(e,n)})(E,_),p(E,Object(r.useCallback)(e=>{C(e)},[])),o.a.createElement("video",{className:i()("orca-video",t),ref:E,autoPlay:c,controls:!0,poster:s,preload:a,crossOrigin:"anonymous",onPlay:g,onPause:h},o.a.createElement(P,{sources:n}),o.a.createElement(k,{subtitles:u}))};A.PRELOADS={NONE:"none",METADATA:"metadata",AUTO:"auto"},A.displayName="Video",A.propTypes={source:Object(s.arrayOf)(Object(s.shape)({src:s.string.isRequired,type:s.string})).isRequired,className:s.string,poster:s.string,preload:Object(s.oneOf)(["none","metadata","auto"]),autoPlay:s.bool,subtitles:Object(s.arrayOf)(Object(s.shape)({src:s.string,srcLang:s.string,label:s.string})),sourceInfo:Object(s.shape)({videoName:s.string,mixpanel:Object(s.shape)({pageName:s.string}),bigQuery:Object(s.shape)({pageName:s.string})}),onPlay:s.func,onPause:s.func},A.defaultProps={className:"",poster:"",preload:"metadata",autoPlay:!1,subtitles:[],sourceInfo:{mixpanel:{},bigQuery:{}},source:[],onPlay:Function.prototype,onPause:Function.prototype};var S=A;n("QWTK");const M=e=>{let{videoUrl:t,subtitles:n,sourceInfo:r,trigger:s,onOpen:c,onClose:i}=e;const l=[{src:t,type:"video/mp4"}];return o.a.createElement(a.a,{name:"logged-out-homepage-video-modal",onOpen:c,onClose:i,header:null,trigger:s},()=>o.a.createElement(S,{controls:!0,autoPlay:!0,source:l,sourceInfo:r,subtitles:n}))};M.propTypes={videoUrl:s.string,sourceInfo:Object(s.shape)({videoName:s.string,mixpanel:Object(s.shape)({pageName:s.string}),bigQuery:Object(s.shape)({pageName:s.string})}),subtitles:Object(s.arrayOf)(Object(s.shape)({src:s.string,srcLang:s.string,label:s.string})),trigger:s.func,onOpen:s.func,onClose:s.func};t.default=M},ZOkH:function(e,t,n){e.exports={uid:"u36407b3d"}},dscV:function(e,t,n){e.exports={}},mFgO:function(e,t,n){e.exports={uid:"u9ca5eeb6"}},nPLd:function(e,t,n){e.exports={uid:"uee77ab14"}},"o+af":function(e,t,n){"use strict";n.d(t,"a",(function(){return Y}));var r=n("cDcd"),o=n.n(r),s=n("faye"),a=n.n(s),c=n("rf6O"),i=n.n(c),l=n("K2gz"),u=n.n(l),p=n("YLtl"),d=n("M96Z"),b=n.n(d),O=n("wPtw");function f(e,t){return null==e?null:Object(p.isFunction)(e)?e(t):e}var g=n("plsC"),m=n.n(g);const h=["trigger","children"];function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class P extends b.a{constructor(e){super(e),j(this,"onEscape",e=>{(e=>{let{keyCode:t,which:n,code:r,key:o}=e;return 27===t||27===n||"Escape"===r||"Escape"===o})(e)&&this.close()}),j(this,"bindClickListener",()=>{!1!==this.props.bindBodyClickListener&&this.target&&this.target.addEventListener("click",this.onBodyClick,{capture:!0})}),j(this,"addBodyOpenClass",()=>{document.body.classList.add(this.openClass)}),j(this,"removeBodyOpenClass",()=>{document.body.classList.remove(this.openClass)}),this.openClass="modal-open-".concat(Object(O.a)())}componentDidMount(){this.props.autoOpen&&this.open()}componentWillUnmount(){super.componentWillUnmount(),this.close(),this.removeBodyOpenClass()}get targetClassName(){return u()("modal-package","MODAL__modal-".concat(m.a.uid),this.props.name)}get modalProps(){const{open:e,close:t,toggle:n,preventCloseAction:r}=this,{isOpen:o}=this.state,s=this.props,{trigger:a,children:c}=s;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({open:e,close:t,toggle:n,preventCloseAction:r,isOpen:o},v(s,h))}togglerWillOpen(){this.target||(this.target=document.createElement("div"),this.target.className=this.targetClassName,document.body.appendChild(this.target),this.props.closeOnEscape&&window.addEventListener("keyup",this.onEscape))}togglerDidOpen(){this.addBodyOpenClass(),setTimeout(()=>this.target.classList.add("shown")),Object(p.isFunction)(this.props.onOpen)&&this.props.onOpen()}togglerWillClose(e){this.target&&(this.target.classList.remove("shown"),this.target.addEventListener("transitionend",()=>{this.target&&(document.body.removeChild(this.target),this.target=void 0),e()},{once:!0}),window.removeEventListener("keyup",this.onEscape))}togglerDidClose(){this.removeBodyOpenClass(),Object(p.isFunction)(this.props.onClose)&&this.props.onClose()}__view(){const{children:e}=this.props;return f(e,this.modalProps)}render(){return o.a.createElement(o.a.Fragment,null,f(this.props.trigger,this.modalProps),this.target&&a.a.createPortal(this.__view(this.modalProps),this.target))}}P.propTypes={onOpen:i.a.func,onClose:i.a.func,closeOnEscape:i.a.bool,bindBodyClickListener:i.a.bool,autoOpen:i.a.bool,trigger:i.a.func,name:i.a.string},P.defaultProps={closeOnEscape:!0,bindBodyClickListener:!0};var C=P;const E=Object(c.oneOfType)([Object(c.arrayOf)(c.node),c.node,c.func]);var w=n("ZOkH"),L=n.n(w);const _=e=>{let{children:t,preventCloseAction:n,isOpen:r,className:s}=e;if(!r)return null;const a=u()("MODAL__modal-content-".concat(L.a.uid),"modal-content",s);return o.a.createElement("div",{className:a,ref:n},t)};_.propTypes={children:E.isRequired,isOpen:i.a.bool,preventCloseAction:i.a.func,className:i.a.string},_.defaultProps={isOpen:!1,preventCloseAction:()=>null,className:""};var N=_,k=n("ERoU"),D=()=>o.a.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M8.48514 7.00022L12.9723 2.51308L13.8976 1.58774C14.0341 1.45123 14.0341 1.22941 13.8976 1.09291L12.9075 0.102816C12.771 -0.0336885 12.5492 -0.0336885 12.4127 0.102816L7.00022 5.5153L1.58774 0.102378C1.45123 -0.0341261 1.22941 -0.0341261 1.09291 0.102378L0.102378 1.09247C-0.0341261 1.22898 -0.0341261 1.4508 0.102378 1.5873L5.5153 7.00022L0.102378 12.4127C-0.0341261 12.5492 -0.0341261 12.771 0.102378 12.9075L1.09247 13.8976C1.22898 14.0341 1.4508 14.0341 1.5873 13.8976L7.00022 8.48514L11.4874 12.9723L12.4127 13.8976C12.5492 14.0341 12.771 14.0341 12.9075 13.8976L13.8976 12.9075C14.0341 12.771 14.0341 12.5492 13.8976 12.4127L8.48514 7.00022Z"}));n("dscV");const x=e=>{let{onClick:t}=e;return o.a.createElement("button",{className:"modal-content-close",onClick:t,"aria-label":"Close modal"},o.a.createElement(k.a,{className:"close-icon",size:14},D))};x.propTypes={onClick:i.a.func.isRequired};var T=x,A=n("p6OG"),S=n.n(A);function M(e){let{children:t,hasCloseBtn:n,close:r}=e;const s=n&&"function"==typeof r;return o.a.createElement("header",{className:"MODAL__modal-content-header-".concat(S.a.uid," modal-content-header")},o.a.createElement("h2",null,t),s&&o.a.createElement(T,{onClick:r}))}M.propTypes={children:E.isRequired,hasCloseBtn:i.a.bool,close:i.a.func},M.defaultProps={hasCloseBtn:!0};var R=M,B=n("mFgO"),q=n.n(B);const F=e=>{let{children:t,hasHeader:n=!1,hasFooter:r=!1}=e;const s=u()("MODAL__modal-content-body-".concat(q.a.uid," modal-content-body"),{"rounded-corners":!n&&!r,"rounded-upper-corners":!n&&r,"rounded-bottom-corners":n&&!r});return o.a.createElement("section",{className:s},t)};F.propTypes={children:E.isRequired,hasHeader:c.bool,hasFooter:c.bool};var W=F,I=n("yoks"),V=n.n(I);const Q=e=>{let{children:t}=e;return o.a.createElement("footer",{className:"MODAL__modal-content-footer-".concat(V.a.uid," modal-content-footer")},t)};Q.propTypes={children:E.isRequired};var U=Q,z=n("nPLd"),G=n.n(z);function H(){return(H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class K extends C{__view(e){const{header:t,footer:n,children:r,hasCloseBtn:s}=this.props,a="MODAL__modal-content-base-".concat(G.a.uid),c=!!t,i=!!n;return o.a.createElement(N,H({},e,{className:a}),c&&o.a.createElement(R,{hasCloseBtn:s,close:e.close},f(t,e)),r&&o.a.createElement(W,{hasFooter:i,hasHeader:c},f(r,e)),i&&o.a.createElement(U,null,f(n,e)))}}K.propTypes={header:i.a.any,footer:i.a.any,children:i.a.any,hasCloseBtn:i.a.bool};var Y=K,Z=n("+mTp"),J=n.n(Z);const X=e=>{let{children:t,onClose:n}=e;return o.a.createElement("header",{className:"MODAL__modal-content-slim-header-".concat(J.a.uid)},t&&o.a.createElement("h4",null,t),o.a.createElement(T,{onClick:n}))};X.propTypes={children:i.a.node,onClose:i.a.func},X.defaultProps={onClose:()=>null};var $=X,ee=n("N25p"),te=n.n(ee);const ne=e=>{let{children:t}=e;return o.a.createElement("div",{className:"MODAL__modal-content-slim-body-".concat(te.a.uid)},t)};ne.propTypes={children:E.isRequired};var re=ne,oe=n("RiIb"),se=n.n(oe);function ae(){return(ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class ce extends C{constructor(e){super(e),this.onClose=this.onClose.bind(this)}onClose(){this.close(),this.props.onClose()}__view(e){const{header:t,children:n}=this.props,r="MODAL__modal-content-slim-".concat(se.a.uid);return o.a.createElement(N,ae({},e,{className:r}),o.a.createElement($,{onClose:this.onClose},f(t,e)),n&&o.a.createElement(re,null,f(n,e)))}}ce.propTypes={children:i.a.any,onClose:i.a.func},ce.defaultProps={onClose:()=>null};var ie=n("qCcY"),le=n.n(ie);const ue=e=>{let{children:t}=e;return o.a.createElement("div",{className:"MODAL__modal-content-fit-content-body-".concat(le.a.uid)},t)};ue.propTypes={children:E.isRequired};var pe=ue,de=n("2cCG"),be=n.n(de);function Oe(){return(Oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}class fe extends C{constructor(e){super(e),this.onClose=this.onClose.bind(this)}onClose(){this.close(),this.props.onClose()}__view(e){const{children:t}=this.props,n="MODAL__modal-content-fit-content-".concat(be.a.uid);return o.a.createElement(N,Oe({},e,{className:n}),o.a.createElement(T,{onClick:this.onClose}),t&&o.a.createElement(pe,null,f(t,e)))}}fe.propTypes={children:i.a.any,onClose:i.a.func},fe.defaultProps={onClose:()=>null}},p6OG:function(e,t,n){e.exports={uid:"u313deaba"}},plsC:function(e,t,n){e.exports={uid:"u685f2464"}},qCcY:function(e,t,n){e.exports={uid:"u6457912e"}},yoks:function(e,t,n){e.exports={uid:"u9e57b827"}},"zNv+":function(e,t,n){e.exports={}}}]);
//# sourceMappingURL=VideoModal.modern.87a8b5665ec1eef3d58d.js.map?v=1